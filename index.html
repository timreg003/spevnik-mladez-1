<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spevník Mládež 2026</title>
    <script src="https://cdn.jsdelivr.net/npm/chordsheetjs@5.0.0/dist/chordsheetjs.min.js"></script>
    <style>
        :root { --p: #1a73e8; --chord: #2563eb; --bg: #f8f9fa; }
        body { font-family: 'Segoe UI', Roboto, sans-serif; margin: 0; background: var(--bg); color: #333; }
        .header { background: var(--p); color: white; padding: 15px; text-align: center; position: sticky; top: 0; z-index: 10; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .container { max-width: 700px; margin: auto; padding: 10px; }
        #search { width: 100%; padding: 14px; border-radius: 25px; border: 1px solid #ccc; font-size: 16px; box-sizing: border-box; outline: none; }
        .song-card { background: white; padding: 18px; margin: 10px 0; border-radius: 12px; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.05); font-weight: 600; transition: 0.2s; }
        .song-card:hover { transform: scale(1.02); background: #f0f7ff; }
        #view { display: none; background: white; padding: 20px; border-radius: 15px; min-height: 90vh; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
        .controls { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid #f0f0f0; padding-bottom: 15px; position: sticky; top: 0; background: white; }
        .btn { padding: 12px 18px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; background: #eee; font-size: 16px; }
        .btn-p { background: var(--p); color: white; }
        #content { white-space: pre-wrap; line-height: 2.3; font-size: 1.15em; font-family: 'Courier New', monospace; margin-top: 20px; overflow-x: auto; }
        .chord { color: var(--chord); font-weight: bold; background: #eef2ff; padding: 2px 4px; border-radius: 4px; }
        .paragraph { margin-bottom: 20px; }
    </style>
</head>
<body>

<div id="main-ui">
    <div class="header">
        <div class="container">
            <h2 style="margin:0 0 12px 0;">Spevník Mládež 2026</h2>
            <input type="text" id="search" placeholder="Hľadať pieseň alebo text..." oninput="filter()">
        </div>
    </div>
    <div class="container">
        <div id="list"></div>
    </div>
</div>

<div id="view">
    <div class="container">
        <div class="controls">
            <button class="btn" onclick="back()">← Späť</button>
            <button class="btn btn-p" onclick="changeKey(-1)">♭</button>
            <button class="btn btn-p" onclick="changeKey(1)">#</button>
        </div>
        <h2 id="v-title" style="color:var(--p); margin:0;"></h2>
        <div id="content"></div>
    </div>
</div>

<script>
    // Tu sú všetky piesne, ktoré si mi poslal, ošetrené proti chybám
    const database = [
        { t: "1. Zvelebený Pán", c: "1. Zvelebený buď tam, kde kraj medom oplýva, tam, kde rieky vždy hojné sú, zvelebený Pán. Zvelebený buď, aj keď v púšti sa nachádzam, aj keď kráčam sám v pustinách, zvelebený Pán.\n\nB: Každú milosť, čo mi dávaš, vyspievam rád, aj keď tma ma obopína, ja zavolám:\n\nR: Zvelebený buď, Pane náš, zvelebený Pán, zvelebený buď, Pane náš, požehnané, slávne meno máš." },
        { t: "2. Požehnané meno má Pán", c: "1. Požehnané meno má Pán, (3x) Najvyšší.\n\nR: Viem, že meno Pána je môj úkryt, v boji sa v ňom môžem skryť a v bezpečí žiť!" },
        { t: "3. Nádherný Boh", c: "1.[D]Úžasný, tak [E]úžasný si [F#m]v láske bez hra[A]níc\nTvoj [D]kríž mi dáva [E]milosť sľúbe[A]nú\nNik [D]nevidel,nik [E]nepočul niet [F#m]srdca čo tu[A]ší\nJak [D]slávny je a [E]nádherný Boh [A]môj\n\nR:Si nádherný [D]Boh,Ťa [E]ľúbim si nádherný [D]Boh,ja Ťa [E]ctím" },
        { t: "4. Bohatier", c: "1. V tebe [D] slaboch [A] je mocný [Am] boha[G]tier, v tebe [D] mocný [A] som ako [Am] boha[G]tier.\n\nR: [D] Ty si víťaz, [A] Je[Am]žiš [G] [D] Mocný víťaz,[A] Je[Am]žiš [G]" },
        { t: "5. Obeta srdca", c: "1. [D] Túžim priniesť na ol[G]tár život, [A] čo v tebe mám. [D] Tvojou láskou zlome[G]ný chcem ťa [A]chváliť, môj Pán." },
        { t: "6. Pred Tebou, môj Pán, sa vzdám", c: "R: [A]Pred tebou, môj [D]Pán, sa [A]vzdám, [F#m]pred tebou na [E]kolená [D]padá[A]m.\n\n1.[F#m]Iba Ty v[E]ládneš [D]svojou [A]silou, [F#m]v sprievode [E]víťaznom [D]vodíš si [A]ma." },
        { t: "8. Tvoj ľud pred Tebou", c: "1. /:Tvoj ľud [D]pred Tebou sa [A]schádza, Bože náš[D]:/\n/:k Tebe[G] ideme, [A]lebo Ty si [D]do[F#m]broti[Hm]vý, k Tebe [Em]ideme, Ty [A]veľký Bože [D]náš.:/" },
        { t: "9. Pane náš, prijmi dar", c: "1. [G]Pane náš, prijmi [C]dar, [G]čo chcem ti dať na ol[C]tár, [G]s láskou ti predkla[C]dám všetko, čo mám. [D]\n\nR: /:Dávam [G]ti zo [D]svojich [C]rán, dávam [G]všetko, čo [D]v sebe mám.:/" },
        { t: "10. Všetko živé chváli ťa", c: "1. [C]Všetko [F]živé chváli [G]Ťa,[F] [C]v Duchu, [F]v pravde uctie[G]va.\n\nR: Dobrý [C]Boh, verný [C]Boh, úžas[G]ný, chválim [F]Ťa." },
        { t: "13. Srdce chvály", c: "1. [D]Hudba dohráva[A], všetko stíši sa[Em] a ja prichádzam[A]\n[D]priniesť niečo [A]snáď, čo pravú cenu má,[Em] čo by si mal rád.[A]" },
        { t: "14. Do tmy na svet", c: "1.[C]Do tmy na[G] svet prišlo [F]k nám svetlo sveta. [C]Otvor môj[G] zrak nech vid[F]ím." },
        { t: "15. Priď ó Ježiš príď", c: "R: /:[D]Príď,ó Ježiš, [G]príď:/\n1. Tí, čo sú [D]smädní, zoslabnu[F#m]tí." },
        { t: "16. Nesieme, Pane, chlieb a víno", c: "-1 N[Dmi]esieme, Pane, chlieb a [C]víno. N[Ami]esieme celý život [Dmi]náš." },
        { t: "18. Imanuel", c: "1. [Hm]Boh je stále[G]medzi nami,[D]je stále[A]blízko nás, [Hm]pozná všetky [G]Tvoje rany." },
        { t: "22. Toto je telo a toto je krv", c: "R: [C]Toto je telo a [G]toto je [Dm]krv, [A]čo [Dm]dávaš za mňa na oltár." },
        { t: "25. Nechám sa viesť", c: "1. [C#m]Kamkoľvek ma [A]zavoláš, [H]kamkoľvek ma[F#m] zavoláš, pôjdem." },
        { t: "26. Aj keby nekvitol fík", c: "1. Aj keby nekvitol [Dm] fík, aj keby [B]nerodila zem, aj keby [Gm]nebesá nedoniesli [F]svetlo." },
        { t: "33. Boh tak miloval svet", c: "1: [D]Boh tak miloval [G]svet že [Hm]svojho [A] syna nám [G] dal" },
        { t: "35. Dvíham k Tebe, Pane môj", c: "[D] Dví [A] ham [Hmi] k Tebe, Pane [G] môj [D] S lá [A] skou [Hmi] celý život [G] svoj" },
        { t: "37. Pane, smädní sme po Tebe", c: "R: /:Pane, [G]smädní sme po Te[D]be. Pane, [A]smädní sme po Te[D]be.:/" },
        { t: "38. Odej nás do rúcha chvál", c: "1. Odej nás [D]do rúcha chvál. [G]Prelom ťažobu úzkosť [D]v nás." }
    ];

    let currentSong = null;
    let transpose = 0;
    const parser = new ChordSheetJS.ChordProParser();
    const formatter = new ChordSheetJS.HtmlDivFormatter();

    function draw() {
        const listDiv = document.getElementById('list');
        listDiv.innerHTML = '';
        database.sort((a,b) => a.t.localeCompare(b.t, 'sk', {numeric: true})).forEach((s) => {
            const d = document.createElement('div');
            d.className = 'song-card';
            d.innerText = s.t;
            d.onclick = () => openSong(s);
            listDiv.appendChild(d);
        });
    }

    function openSong(s) {
        currentSong = s;
        transpose = 0;
        document.getElementById('main-ui').style.display = 'none';
        document.getElementById('view').style.display = 'block';
        document.getElementById('v-title').innerText = s.t;
        render();
        window.scrollTo(0,0);
    }

    function render() {
        const cont = document.getElementById('content');
        try {
            if (currentSong.c.includes('[')) {
                const sheet = parser.parse(currentSong.c).transpose(transpose);
                cont.innerHTML = formatter.format(sheet);
            } else {
                cont.innerText = currentSong.c;
            }
        } catch(e) {
            cont.innerText = currentSong.c;
        }
    }

    function changeKey(v) {
        transpose += v;
        render();
    }

    function back() {
        document.getElementById('main-ui').style.display = 'block';
        document.getElementById('view').style.display = 'none';
    }

    function filter() {
        const q = document.getElementById('search').value.toLowerCase();
        const cards = document.querySelectorAll('.song-card');
        cards.forEach(c => {
            c.style.display = c.innerText.toLowerCase().includes(q) ? 'block' : 'none';
        });
    }

    window.onload = draw;
</script>
</body>
</html>
