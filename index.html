<!DOCTYPE html>

<html lang="sk">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport"/>
<title>Mládežnícky spevník NIŽNÁ</title>
<link href="manifest.json?v=19" rel="manifest"/>
<meta content="#00bfff" name="theme-color"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<meta content="Spevník" name="apple-mobile-web-app-title"/>
<link href="icon.png?v=19" rel="apple-touch-icon"/>
<link href="icon.png?v=19" rel="icon" type="image/png"/>
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;display=swap" rel="stylesheet">
<link href="style.css?v=19" rel="stylesheet">
</link></link></link></head>
<body>
<div class="toast" id="toast" style="display:none;"></div>
<div class="container">
<button id="scroll-to-top" onclick="stopAutoscroll(); window.scrollTo({top: 0, behavior: 'smooth'})">
<i class="fas fa-arrow-up"></i>
</button>
<!-- HEADER -->
<div class="topbar">
<button id="admin-toggle-btn" onclick="toggleAdminAuth()">
<i class="fas fa-user"></i>
<span id="admin-toggle-text">PRIHLÁSIŤ</span>
</button>
<h1 class="main-title">Mládežnícky spevník NIŽNÁ</h1>
<i class="fas fa-home home-ico" onclick="goHomeUI()"></i>
</div>
<!-- LIST VIEW -->
<div id="song-list">
<input autocomplete="off" id="search" oninput="filterSongs()" placeholder="Hľadať pieseň alebo číslo..." type="text"/>
<!-- DNES -->
<div class="section-header" onclick="toggleSection('dnes')">
<h2 class="playlist-header-title" id="dnes-title">PIESNE NA DNES</h2>
<i class="fas fa-chevron-down section-chevron" id="dnes-chevron"></i>
</div>
<div class="section-content" id="dnes-section-wrapper" style="display:none;">
<div class="list-box" id="dnes-section"><div class="loading">Načítavam...</div>
</div>
<div class="editor-panel" id="dnes-editor-panel" style="display:none;">
<div class="editor-toggle" onclick="toggleEditor('dnes-editor-panel')">
<div class="editor-toggle-title">Editor – Piesne na dnes</div>
<i class="fas fa-chevron-down editor-toggle-ico"></i>
</div>
<div class="editor-body">
<h3 class="editor-title">Editor – Piesne na dnes</h3>
<input id="dnes-name" maxlength="40" placeholder="Názov zoznamu (napr. Piatok 16.1.)" type="text"/>
<div class="editor-subtitle">Piesne v zozname (ťahaj pre poradie)</div>
<div class="editor-list" id="dnes-selected-editor"></div>
<input autocomplete="off" id="dnes-search" oninput="filterDnesSearch()" placeholder="Vyhľadať pieseň..." type="text"/>
<div class="editor-subtitle">Všetky piesne (klikni pre pridanie)</div>
<div class="editor-list" id="dnes-available-list"></div>
<div class="btn-row-2">
<button class="btn-save" id="dnes-save-btn" onclick="saveDnesEditor()">ULOŽIŤ</button>
<button class="btn-neutral" onclick="saveDnesToHistory()">ULOŽIŤ DO HISTÓRIE</button>
<button class="btn-delete" onclick="clearDnesSelection()">VYMAZAŤ</button>
</div>
</div>
</div>
</div>
<!-- PLAYLISTY -->
<div class="section-header" onclick="toggleSection('playlists')">
<h2 class="playlist-header-title">PLAYLISTY</h2>
<i class="fas fa-chevron-down section-chevron" id="playlists-chevron"></i>
</div>
<div class="section-content" id="playlists-section-wrapper" style="display:none;">
<div class="list-box" id="playlists-section"><div class="loading">Načítavam...</div></div>
<div class="editor-panel" id="admin-panel" style="display:none;">
<div class="editor-toggle" onclick="toggleEditor('admin-panel')">
<div class="editor-toggle-title">Editor playlistov</div>
<i class="fas fa-chevron-down editor-toggle-ico"></i>
</div>
<div class="editor-body">
<h3 class="editor-title">Editor playlistu</h3>
<input id="playlist-name" placeholder="Názov playlistu" type="text"/>
<div class="editor-subtitle">Piesne v playliste (ťahaj pre poradie)</div>
<div class="editor-list" id="selected-list-editor"></div>
<input autocomplete="off" id="playlist-search" oninput="filterPlaylistSearch()" placeholder="Vyhľadať pieseň..." type="text"/>
<div class="editor-subtitle">Všetky piesne (klikni pre pridanie)</div>
<div class="editor-list" id="playlist-available-list"></div>
<div class="btn-row-2">
<button class="btn-save" id="playlist-save-btn" onclick="savePlaylist()">ULOŽIŤ</button>
<button class="btn-neutral" onclick="newPlaylist()">NOVÝ PLAYLIST</button>
<button class="btn-delete" onclick="clearSelection()">VYMAZAŤ</button>
</div>
</div>
</div>
</div>
<!-- ALL -->
<div class="section-header" onclick="toggleSection('all')">
<h2 class="playlist-header-title">ZOZNAM PIESNÍ</h2>
<i class="fas fa-chevron-down section-chevron" id="all-chevron"></i>
</div>
<div class="section-content" id="all-section-wrapper" style="display:none;">
<div class="list-box" id="piesne-list"><div class="loading">Načítavam...</div></div>
</div>
<!-- HISTORY (public) -->
<div class="section-header" onclick="toggleSection('history')">
<h2 class="playlist-header-title">HISTÓRIA</h2>
<i class="fas fa-chevron-down section-chevron" id="history-chevron"></i>
</div>
<div class="section-content" id="history-section-wrapper" style="display:none;">
<div class="list-box" style="padding:10px 12px;">
<input class="search" id="history-search" oninput="filterHistorySearch()" placeholder="Hľadať v histórii..." type="text"/>
</div>
<div class="list-box" id="history-section"></div>
</div>
<!-- SONG DETAIL -->

</div><div id="song-detail" style="display:none;">
<h2 id="render-title"></h2>
<button class="back-btn" onclick="closeSong()"><i class="fas fa-arrow-left"></i> Späť na zoznam</button>
<div class="controls">
<div class="control-group">
<small>Pieseň</small>
<div class="btn-row">
<button onclick="navigateSong(-1)"><i class="fas fa-chevron-left"></i></button>
<button onclick="navigateSong(1)"><i class="fas fa-chevron-right"></i></button>
</div>
</div>
<div class="control-group">
<small>Tónina: <span id="transpose-val">0</span></small>
<div class="btn-row">
<button onclick="transposeSong(-1)"><i class="fas fa-minus"></i></button>
<button onclick="resetTranspose()"><i class="fas fa-undo"></i></button>
<button onclick="transposeSong(1)"><i class="fas fa-plus"></i></button>
</div>
<span class="tiny-label" id="original-key-label">-</span>
</div>
<div class="control-group">
<small>Text: <span id="font-size-label">17</span>px</small>
<div class="btn-row">
<button onclick="toggleChords()"><i class="fas fa-guitar"></i></button>
<button onclick="changeFontSize(-1)">A-</button>
<button onclick="changeFontSize(1)">A+</button>
</div>
</div>
<div class="control-group">
<small>Auto-posun</small>
<div class="btn-row">
<button onclick="changeScrollSpeed(-1)"><i class="fas fa-minus"></i></button>
<button id="scroll-btn" onclick="toggleAutoscroll()"><i class="fas fa-play"></i></button>
<button onclick="changeScrollSpeed(1)"><i class="fas fa-plus"></i></button>
</div>
<span class="tiny-label" id="speed-label">Rýchlosť: 1</span>
</div>
</div>
<div id="song-content"></div>
<!-- ERROR REPORT -->
<div id="error-report-container">
<p class="error-title">Našiel/la si chybu? Napíš, opravím :)</p>
<form id="error-form" onsubmit="submitErrorForm(event)">
<input id="error-subject" name="_subject" type="hidden" value="Chyba v piesni"/>
<input id="error-song-hidden" name="piesen" type="hidden" value=""/>
<input name="meno" placeholder="Tvoje meno" required="" type="text"/>
<textarea name="chyba" placeholder="Napr. chybný akord, preklep v texte..." required=""></textarea>
<button id="submit-btn" type="submit">ODOSLAŤ</button>
</form>
<p id="form-status" style="display:none;">Chyba bola odoslaná!</p>
</div>
</div>
<!-- ✅ FLOATING GEAR BUTTON (LEFT) -->
<div id="fab-update">
<button aria-label="Nastavenia" id="fab-btn" onclick="toggleFabMenu(event)">
<i class="fas fa-gear"></i>
</button>
<div aria-hidden="true" class="fab-menu" id="fab-menu">
<button id="fab-update-btn" onclick="hardResetApp()">Aktualizovať aplikáciu</button>
</div>
</div>
<script src="script.js?v=19"></script>
<!-- FORM EDITOR MODAL -->
<div class="modal-overlay" id="form-modal" style="display:none;">
<div aria-labelledby="form-modal-title" aria-modal="true" class="modal-sheet" role="dialog">
<div class="modal-header">
<button class="modal-close" onclick="closeFormModal()"><i class="fas fa-times"></i></button>
<div class="modal-title" id="form-modal-title">Forma piesne</div>
<button class="modal-save" id="form-modal-save" onclick="saveFormModal()">Uložiť</button>
</div>
<div class="modal-body">
<div class="modal-block">
<div class="modal-label">Náhľad označení v texte</div>
<div class="form-preview" id="form-preview"></div>
</div>
<div class="modal-block">
<div class="modal-label">Poradie</div>
<div class="form-order" id="form-order"></div>
<div class="modal-hint">Klikni na položku v poradí pre odstránenie.</div>
</div>
<div class="modal-block">
<div class="modal-label">Pridať časť</div>
<div class="form-buttons" id="form-buttons"></div>
</div>
<div class="modal-block">
<div class="modal-label">Špeciálne</div>
<div class="form-buttons">
<button class="chip-btn" onclick="addSpecialStep('PREDOHRA')">Predohra</button>
<button class="chip-btn" onclick="addSpecialStep('MEDZIHRA')">Medzihra</button>
<button class="chip-btn" onclick="addSpecialStep('DOHRA')">Dohra</button>
</div>
<div class="modal-hint">Poznámku dopíšeš po kliknutí (napr. akordy, pokyn).</div>
</div>
</div>
</div>
</div>
</div></body>
</html>
